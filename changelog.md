## v1.0 

git clone -b v1.0 https://github.com/DennoN-RUS/Bird4Static.git

## v2.0

1) Изменена логика установщика, изменено место храниение файлов, сделаны необходимые симликни для удобства использвоания

git clone -b v2.0 https://github.com/DennoN-RUS/Bird4Static.git

## v2.1

- Фиксы переменных и описания

git clone -b v2.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.0

1) Поддерживает работу как с одинм впн, так и с двумя.
2) Не переписывает все файлы полностью, а добавляет/удаляет нужные строки в файлах через патчи.
3) Перезапускает bird, только если файлы изменились.
4) Запуск сделан раз в час.

P.S.: если ставите поверх старой версии, то лучше всего удалить папку /opt/root/Bird4Static/ а так же файлы /opt/etc/cron.daily/add-bird4_routes.sh и /opt/etc/ndm/ifstatechanged.d/010-add_antizapret_route.sh и перезагрузить роутер. А потом уже производить установку новой версии

git clone -b v3.0 https://github.com/DennoN-RUS/Bird4Static.git


## v3.1

1) Алгоритмы добавления пользовательских адресов переделаны на утилиту iprange.
2) Удален теперь уже не нужный скрипт addip.sh, подчищены пробелы из файлов

Теперь можно заполнять файлы со своими доменами/адресами в таких вариантах:
- комментарии начинаются с решётки (#) или точки с запятой (;);
- один IP на строку (без маски);
- CIDR на строку (A.A.A.A/B);
- диапазон IP-адресов на строку (A.A.A.A - B.B.B.B);
- диапазон CIDR на строку (A.A.A.A/B - C.C.C.C/D); диапазон рассчитывается как сетевой адрес A.A.A.A/B до широковещательного адреса C.C.C.C/D;
- CIDR могут быть заданы либо в формате префикса, либо в формате сетевой маски во всех случаях (включая диапазоны);
- одно имя хоста в строке, разрешаемое с помощью DNS (если IP-адрес разрешается в несколько IP-адресов, все они будут добавлены) имена хостов не могут быть указаны в виде диапазонов;
- пробелы и пустые строки игнорируются.

git clone -b v3.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.2

1) Добавлена возможность указыать в переменных не имя интерфейса, а шлюз.

Если у вас при заполнении файла user-isp.list перестают открываться ресурсы указанные в нем, то надо изменить переменную в скрипте `add-bird4_routes.sh` с `ISP=eht3` (где eth3 - это интерфейс провайдера) на `ISP=10.0.0.1` (где 10.0.0.1 - это шлюз провайдера).

Узнать шлюз можно командой `ip route | grep default`

ВНИМАНИЕ! Сам скрипт не отслеживает какой сейчас шлюз. Если вы указали один, а потом он изменился, то надо снова менять в файле значение переменной ISP и перезапускатть скрипт. Так что если у вас все работает и так, то ничего менять не надо!

git clone -b v3.2 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3

1) Переделана команда в скрипте установки, которая выводит список интерфейсов и их адресов. Теперь стала более универсальной
2) Добавлен скрипт для удаления
3) Добавлена поддержка AS номеров в пользовательских списках

Указывать AS нужно в виде AS13414, регистр важен(!), AS должно быть большими буквами. Одна строка - один номер AS(!). Поддерживаются комментарии после номера через пробел, скрипт на них ругаться не будет. Запросы идут через сторонний сервер, который может долго отвечать, так что если будет указано много AS в списках, то скрипт может отрабатывать сильно дольше

git clone -b v3.3 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3.1

1) Переделан метод составления общих списков для конфигурации с двумя впн. Теперь не будет второй раз запрашивать одно и тоже

git clone -b v3.3.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3.2

1) Добавлена возможность дебага, через переменную DEBUG. По умолчанию выставлено 0 - выключено. Что бы включить нужно установить DEBUG=1. Вывод будет на экран консоли. 
2) Сделана функция diff_funk, для уменьшения одинаковых команд в коде

git clone -b v3.3.2 https://github.com/DennoN-RUS/Bird4Static.git

## v3.4

1) Переделан установщик на более универсальную версию. Теперь в теории может работать не только с кинетками, а с любыми роутерами, у которых домашнаяя папка Entware содержит /opt (Привет Асусам! :) )
2) В diff_funk добавлен алгоритм проверки, сейчас проверяется только скачанный список с антифильтра, если он придет пустой или не скаччается, то изменения в маршруты внесены не будут (если сервис ляжет или изменится адрес, то пока не будет указан рабочий урл - скрипт не будет обнулять список роутов)

git clone -b v3.4 https://github.com/DennoN-RUS/Bird4Static.git