## v3.5

1) Исправлен критичный баг на проверку скаченного списка, по факту с версии v3.4 в файл antifilter.list попадали не все адреса
2) Создана папка Install/common в которую вынесено все, что не зависит от количества vpn
3) Все функции из файла add-bird4_routes.sh вынесены в файл func.sh
4) Добавлен вывод на экран одинаковых маршрутов из файлов bird4-force*.list
5) Оптимизирована функция ipr_func

git clone -b v3.5 https://github.com/DennoN-RUS/Bird4Static.git

## v3.4.3

1) Изменение проверки скачиваемого файла (теперь файл проверяется на наличие любого IP адреса, а не на IP/MASK как это было ранее)
2) Небольшое изменение для AS (в прошлой версии маска ip адреса могла состоять из трех цифр, что не возможно)
3) Правки в функции для AS (раньше из пользовательских листов могло не все передаваться в функцию iprange)
4) В дебаг режим добавлены пустые строки для более понятного вывода на экран

git clone -b v3.4.3 https://github.com/DennoN-RUS/Bird4Static.git

## v3.4.2

1) Изменен сервис для получения списка адресов из номера AS c radb.net (который перестал работать) на ripe.net

git clone -b v3.4.2 https://github.com/DennoN-RUS/Bird4Static.git

## v3.4.1

1) В скрипты установки/удаления добавлен пакет bind-libs, который в исключительных случаях не ставился вместе с bind-dig
2) В скрипт установки добавлено принудительное обновление busybox

git clone -b v3.4.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.4

1) Переделан установщик на более универсальную версию. Теперь в теории может работать не только с кинетиками, а с любыми роутерами, у которых домашняя папка Entware содержит /opt (Привет Асусам! :) )
2) В diff_funk добавлен алгоритм проверки. Сейчас проверяется только скачанный список с антифильтра, если он придет пустой или не скачается, то изменения в маршруты внесены не будут (если сервис ляжет или изменится адрес, то пока не будет указан рабочий урл - скрипт не будет обнулять список роутов)
3) В установочном скрипте добавлена возможность выбрать из двух сервисов для получения списков блокировок или ввода своего

git clone -b v3.4 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3.2

1) Добавлена возможность дебага, через переменную DEBUG. По умолчанию выставлено 0 - выключено. Что бы включить нужно установить DEBUG=1. Вывод будет на экран консоли. 
2) Сделана функция diff_funk, для уменьшения одинаковых команд в коде

git clone -b v3.3.2 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3.1

1) Переделан метод составления общих списков для конфигурации с двумя впн. Теперь не будет второй раз запрашивать одно и тоже

git clone -b v3.3.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.3

1) Переделана команда в скрипте установки, которая выводит список интерфейсов и их адресов. Теперь стала более универсальной
2) Добавлен скрипт для удаления
3) Добавлена поддержка AS номеров в пользовательских списках

Указывать AS нужно в виде AS13414, регистр важен(!), AS должно быть большими буквами. Одна строка - один номер AS(!). Поддерживаются комментарии после номера через пробел, скрипт на них ругаться не будет. Запросы идут через сторонний сервер, который может долго отвечать, так что если будет указано много AS в списках, то скрипт может отрабатывать сильно дольше

git clone -b v3.3 https://github.com/DennoN-RUS/Bird4Static.git

## v3.2

1) Добавлена возможность указывать в переменных не имя интерфейса, а шлюз.

Если у вас при заполнении файла user-isp.list перестают открываться ресурсы указанные в нем, то надо изменить переменную в скрипте `add-bird4_routes.sh` с `ISP=eht3` (где eth3 - это интерфейс провайдера) на `ISP=10.0.0.1` (где 10.0.0.1 - это шлюз провайдера).

Узнать шлюз можно командой `ip route | grep default`

ВНИМАНИЕ! Сам скрипт не отслеживает какой сейчас шлюз. Если вы указали один, а потом он изменился, то надо снова менять в файле значение переменной ISP и перезапускать скрипт. Так что если у вас все работает и так, то ничего менять не надо!

git clone -b v3.2 https://github.com/DennoN-RUS/Bird4Static.git

## v3.1

1) Алгоритмы добавления пользовательских адресов переделаны на утилиту iprange.
2) Удален теперь уже не нужный скрипт addip.sh, подчищены пробелы из файлов

Теперь можно заполнять файлы со своими доменами/адресами в таких вариантах:
- комментарии начинаются с решётки (#) или точки с запятой (;);
- один IP на строку (без маски);
- CIDR на строку (A.A.A.A/B);
- диапазон IP-адресов на строку (A.A.A.A - B.B.B.B);
- диапазон CIDR на строку (A.A.A.A/B - C.C.C.C/D); диапазон рассчитывается как сетевой адрес A.A.A.A/B до широковещательного адреса C.C.C.C/D;
- CIDR могут быть заданы либо в формате префикса, либо в формате сетевой маски во всех случаях (включая диапазоны);
- одно имя хоста в строке, разрешаемое с помощью DNS (если IP-адрес разрешается в несколько IP-адресов, все они будут добавлены) имена хостов не могут быть указаны в виде диапазонов;
- пробелы и пустые строки игнорируются.

git clone -b v3.1 https://github.com/DennoN-RUS/Bird4Static.git

## v3.0

1) Поддерживает работу как с одним впн, так и с двумя.
2) Не переписывает все файлы полностью, а добавляет/удаляет нужные строки в файлах через патчи.
3) Перезапускает bird, только если файлы изменились.
4) Запуск сделан раз в час.

P.S.: если ставите поверх старой версии, то лучше всего удалить папку /opt/root/Bird4Static/ а так же файлы /opt/etc/cron.daily/add-bird4_routes.sh и /opt/etc/ndm/ifstatechanged.d/010-add_antizapret_route.sh и перезагрузить роутер. А потом уже производить установку новой версии

git clone -b v3.0 https://github.com/DennoN-RUS/Bird4Static.git

## v2.1

- Фиксы переменных и описания

git clone -b v2.1 https://github.com/DennoN-RUS/Bird4Static.git

## v2.0

1) Изменена логика установщика, изменено место хранения файлов, сделаны необходимые симликни для удобства использования

git clone -b v2.0 https://github.com/DennoN-RUS/Bird4Static.git

## v1.0 

git clone -b v1.0 https://github.com/DennoN-RUS/Bird4Static.git
